<!DOCTYPE html>
<html lang="">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#070026"/>
  <title>fireworks</title>

  <link rel="stylesheet" href="style.css">
  <script src="js/bg.js"></script>
</head>

<body>
  <!-- Overlay -->
  <div id="about">
    <div class="text-container">
      <h1>Urban Noise</h1>
      <p>
        Time to experience New Year's Eve in a different way! Utilize your environment and the people around you to create your own fireworks. <br> <br>
        This website primarily uses your microphone, but thereâ€™s also the option to get the full experience through a song: simply activate <span class="red">Song Mode</span>. <br><br>
        Make sure to <span class="red">disable battery saving mode and silent mode</span> on your phone to get the best results.
        Have fun experimenting!
      </p>
    </div>
    
    <button>
      let's go
    </button>

    <div class="dark"></div>
  </div>

  <!-- Song Mode -->
  <div id="toggle-container">
    <label class="toggle-switch">
      <input type="checkbox" id="toggleCheckbox">
      <span class="slider"></span>
    </label>

    <p class="toggle-label">Song Mode</p>
    <p id="hint">Tap to play. <br>
       Deactivate Silent Mode.
    </p>
  </div>

  <!-- Background -->
  <div class="bg" id="iframe_div">
    <iframe id="contentFrame" src="mic.html" name="testiframe"></iframe>
  </div>

  <!-- Overlay Anim -->
  <script>
    let box = document.getElementById('about'), 
    togglecontainer = document.getElementById('toggle-container'),
    btn = document.querySelector('button');

    btn.addEventListener('click', function () {

      togglecontainer.style.opacity = "1";
  
    if (box.classList.contains('hidden')) {
      box.classList.remove('hidden');
      setTimeout(function () {
        box.classList.remove('visuallyhidden');
      }, 20);
    } else {
      box.classList.add('visuallyhidden');    
      box.addEventListener('transitionend', function(e) {
        box.classList.add('hidden');
      }, {
        capture: false,
        once: true,
        passive: false
      });
    }
    
  }, false);

  </script>
</body>
</html>